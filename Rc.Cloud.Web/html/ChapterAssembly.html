<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>章节组卷</title>
    <link href="../css/style.css" rel="stylesheet" />
    <script src="../js/jquery.min-1.11.1.js"></script>
    <script src="../js/common.js"></script>
    <script src="../plugin/bootstrap/js/bootstrap.min.js"></script>
    <script src="../plugin/layer/layer.js"></script>
    <script src="../plugin/mtree-2.0/mtree.js"></script>
    <script>
        $(function () {
            $('.mtree-hook').mtree({
                display: 1,
                checkbox: true,
                activeClass: '',
                onClick: function (obj) {
                },
                onLoad: function (obj) {
                }
            });

            $('.next-hook').on('click', function () {
                layer.open({
                    type: 2,
                    title: '保存到',
                    area: ['500px', '500px'],
                    content: 'ChapterAssemblySelectSaveCatelog.html'
                });
            })

            //新增模板
            //var html = '';
            //html += '<div class="form-group {type}">';
            //html += '<div class="control-label col-xs-1">{name}：</div>';
            //html += '<div class="col-xs-2">';
            //html += '<input type="text" value="{total}" class="form-control" />';
            //html += '</div>';
            //html += '<div class="col-xs-1">';
            //html += '<input type="text" value="{easy}" class="form-control" />';
            //html += '</div>';
            //html += '<div class="col-xs-1">';
            //html += '<input type="text" value="{medium}" class="form-control" />';
            //html += '</div>';
            //html += '<div class="col-xs-1">';
            //html += '<input type="text" value="{difficult}" class="form-control" />';
            //html += '</div>';
            //html += '</div>';

            //$('input[name="question_type"]').on('change', function (e) {
            //    var name = $(this).data('name');
            //    var type = $(this).val();
            //    var difficulty = $('input[name="difficulty"]:checked').val(); //难度
            //    var easy = '';//简单
            //    var medium = '';//中等
            //    var difficult = '';//困难
            //    var total;//每个题型总数
            //    switch (type) {
            //        case 'choise':
            //        case 'fill':
            //            total = 6;
            //            break;
            //        case 'short':
            //            total = 3;
            //            break;
            //    }
            //    if (difficulty.length > 0) {
            //        easy = total * difficulty.split('|')[0].split(',')[0];
            //        medium = total * difficulty.split('|')[1].split(',')[1];
            //        difficult = total - easy - medium;
            //    }
            //    if ($(this).is(':checked')) {
            //        tpl = html.replace('{type}', type + '-hook')
            //            .replace('{name}', name)
            //            .replace('{total}', total)
            //            .replace('{easy}', easy)
            //            .replace('{medium}', medium)
            //            .replace('{difficult}', difficult);
            //        $('.test-paper-content-hook').append(tpl);
            //    } else {
            //        $('.' + type + '-hook').remove();
            //    }
            //})

            $('input[name="difficulty"]').on('change', function () {
                var type = $(this).data('difficulty');
                if ($(this).is(':checked')) {
                    switch (type) {
                        case 'easy':
                            $('.test-paper-content-hook').eq(0).removeClass('hidden').siblings('.test-paper-content-hook').addClass('hidden');
                            break;
                        case 'medium':
                            $('.test-paper-content-hook').eq(1).removeClass('hidden').siblings('.test-paper-content-hook').addClass('hidden');
                            break;
                        case 'difficult':
                            $('.test-paper-content-hook').eq(2).removeClass('hidden').siblings('.test-paper-content-hook').addClass('hidden');
                            break;
                    }
                }
            })

            $('input[name="question_type"]').on('change', function () {
                var type = $(this).val();
                if ($(this).is(':checked')) {
                    $('.test-paper-content-hook .' + type + '-hook').show();
                } else {
                    $('.test-paper-content-hook .' + type + '-hook').hide();
                }
            })

            //属性面板
            $('.attr-dropdown-hook').on('click', function (e) {
                var $DropdownMenu = $(this).next('.dropdown-menu-hook');
                if ($DropdownMenu.is(':visible')) {
                    $DropdownMenu.hide();
                } else {
                    $DropdownMenu.show();
                }
                e.preventDefault();
                e.stopPropagation();
            });
            //关闭属性面板
            $('.close-attr-dropdown-hook').on('click', function (e) {
                $(this).closest('.dropdown-menu-hook').hide();
            })

        })
    </script>
</head>
<body>
    <div class="iframe-header">
        <div class="navbar navbar-default" role="navigation">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand" href="javascript:;">我的空间</a>
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li><a href="##">我的教案</a></li>
                        <li class="active"><a href="##">布置作业</a></li>
                        <li><a href="##">批改作业</a></li>
                        <li><a href="##">集体备课</a></li>
                        <li><a href="##">数据分析</a></li>
                        <li><a href="##">讲评</a></li>
                        <li><a href="##">购买教案/习题</a></li>
                        <li><a href="##">班级管理</a></li>
                        <li><a href="##">消息</a></li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="/download/Marking.exe">批改工具下载</a></li>
                        <li class="dropdown">
                            <a href="javascript:;" data-toggle="dropdown"><i class="material-icons">&#xE853;</i>&nbsp;数学老师老师</a>
                            <ul class="dropdown-menu">
                                <li><a href="##">个人中心</a></li>
                                <li><a href="##">帮助</a></li>
                                <li>
                                    <a href="##">退出</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="iframe-subnav">
        <ul class="subnav">
            <li><a href="##">习题集</a></li>
            <li><a href="##">自有习题集</a></li>
            <li class="active dropdown">
                <a href="javascript:;" data-toggle="dropdown">组卷<i class="material-icons">&#xE5C5;</i></a>
                <ul class="dropdown-menu">
                    <li><a href="ChapterAssembly.html">章节组卷</a></li>
                    <li><a href="TwowayChecklistAssembly.html">双向细目表组卷</a></li>
                </ul>
            </li>
            <li class="dropdown">
                <a href="javascript:;" data-toggle="dropdown">已组试卷<i class="material-icons">&#xE5C5;</i></a>
                <ul class="dropdown-menu">
                    <li><a href="ChapterAssemblyPaper.html">章节组卷</a></li>
                    <li><a href="TwowayChecklistAssemblyPaper.html">双向细目表组卷</a></li>
                </ul>
            </li>
        </ul>
    </div>
    <div class="iframe-container test_assembly">
        <div class="iframe-sidebar">
            <div class="dropdown selection_attr_dropdown">
                <a href="javascript:;" class="attr-dropdown-hook">高中>人教版>必修1&nbsp;<i class="material-icons">&#xE5CF;</i></a>
                <div class="dropdown-menu dropdown-menu-hook">
                    <dl>
                        <dt>年级学期</dt>
                        <dd>
                            <a href="javascript:;" class="active">高中</a>
                            <a href="javascript:;">初中</a>
                            <a href="javascript:;">小学</a>
                        </dd>
                        <dt>教材版本</dt>
                        <dd>
                            <a href="javascript:;">人教版</a>
                            <a href="javascript:;">北师大版</a>
                            <a href="javascript:;">苏教版</a>
                            <a href="javascript:;">语文版</a>
                            <a href="javascript:;">冀教版</a>
                            <a href="javascript:;">鄂教版</a>
                            <a href="javascript:;">鲁教版</a>
                        </dd>
                        <dt>课本</dt>
                        <dd>
                            <a href="javascript:;">必修1</a>
                            <a href="javascript:;">必修2</a>
                            <a href="javascript:;">必修3</a>
                        </dd>
                    </dl>
                    <button type="button" class="btn btn-primary btn-sm close-attr-dropdown-hook">确定</button>
                </div>
            </div>
            <div class="mtree mtree-hook">
                <ul>
                    <li>
                        <div class="mtree_link mtree-link-hook">
                            <div class="mtree_indent mtree-indent-hook"></div>
                            <div class="mtree_btn mtree-btn-hook"></div>
                            <div class="mtree_checkbox mtree-checkbox-hook"><input type="checkbox" name="name" value="" /></div>
                            <div class="mtree_name mtree-name-hook">第一章 有理数</div>
                        </div>
                        <ul>
                            <li>
                                <div class="mtree_link mtree-link-hook">
                                    <div class="mtree_indent mtree-indent-hook"></div>
                                    <div class="mtree_btn mtree-btn-hook"></div>
                                    <div class="mtree_checkbox mtree-checkbox-hook"><input type="checkbox" name="name" value="" /></div>
                                    <div class="mtree_name mtree-name-hook">1.1 正数和负数</div>
                                </div>
                                <ul data-level="3">
                                    <li>
                                        <div class="mtree_link mtree-link-hook">
                                            <div class="mtree_indent mtree-indent-hook"></div>
                                            <div class="mtree_btn mtree-btn-hook"></div>
                                            <div class="mtree_checkbox mtree-checkbox-hook"><input type="checkbox" name="name" value="" /></div>
                                            <div class="mtree_name mtree-name-hook">1.1 正数和负数</div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="mtree_link mtree-link-hook">
                                            <div class="mtree_indent mtree-indent-hook"></div>
                                            <div class="mtree_btn mtree-btn-hook"></div>
                                            <div class="mtree_checkbox mtree-checkbox-hook"><input type="checkbox" name="name" value="" /></div>
                                            <div class="mtree_name mtree-name-hook">1.2 有理数</div>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <div class="mtree_link mtree-link-hook">
                                    <div class="mtree_indent mtree-indent-hook"></div>
                                    <div class="mtree_btn mtree-btn-hook"></div>
                                    <div class="mtree_checkbox mtree-checkbox-hook"><input type="checkbox" name="name" value="" /></div>
                                    <div class="mtree_name mtree-name-hook">1.2 有理数</div>
                                </div>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <div class="mtree_link mtree-link-hook">
                            <div class="mtree_indent mtree-indent-hook"></div>
                            <div class="mtree_btn mtree-btn-hook"></div>
                            <div class="mtree_checkbox mtree-checkbox-hook"><input type="checkbox" name="name" value="" /></div>
                            <div class="mtree_name mtree-name-hook">第二章 整式的加减</div>
                        </div>
                        <ul data-level="2">
                            <li>
                                <div class="mtree_link mtree-link-hook">
                                    <div class="mtree_indent mtree-indent-hook"></div>
                                    <div class="mtree_btn mtree-btn-hook"></div>
                                    <div class="mtree_checkbox mtree-checkbox-hook"><input type="checkbox" name="name" value="" /></div>
                                    <div class="mtree_name mtree-name-hook">2.1 整式</div>
                                </div>
                            </li>
                            <li>
                                <div class="mtree_link mtree-link-hook">
                                    <div class="mtree_indent mtree-indent-hook"></div>
                                    <div class="mtree_btn mtree-btn-hook"></div>
                                    <div class="mtree_checkbox mtree-checkbox-hook"><input type="checkbox" name="name" value="" /></div>
                                    <div class="mtree_name mtree-name-hook">2.2 整式的加减</div>
                                </div>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <div class="mtree_link mtree-link-hook">
                            <div class="mtree_indent mtree-indent-hook"></div>
                            <div class="mtree_btn mtree-btn-hook"></div>
                            <div class="mtree_checkbox mtree-checkbox-hook"><input type="checkbox" name="name" value="" /></div>
                            <div class="mtree_name mtree-name-hook">第三章 一元一次方程</div>
                        </div>
                        <ul data-level="2">
                            <li>
                                <div class="mtree_link mtree-link-hook">
                                    <div class="mtree_indent mtree-indent-hook"></div>
                                    <div class="mtree_btn mtree-btn-hook"></div>
                                    <div class="mtree_checkbox mtree-checkbox-hook"><input type="checkbox" name="name" value="" /></div>
                                    <div class="mtree_name mtree-name-hook">3.1 从算是到方程</div>
                                    </a>
                            </li>
                            <li>
                                <div class="mtree_link mtree-link-hook">
                                    <div class="mtree_indent mtree-indent-hook"></div>
                                    <div class="mtree_btn mtree-btn-hook"></div>
                                    <div class="mtree_checkbox mtree-checkbox-hook"><input type="checkbox" name="name" value="" /></div>
                                    <div class="mtree_name mtree-name-hook">3.2 解一元一次方程 (一)合并同类项与移项</div>
                                </div>
                            </li>
                            <li>
                                <div class="mtree_link mtree-link-hook">
                                    <div class="mtree_indent mtree-indent-hook"></div>
                                    <div class="mtree_btn mtree-btn-hook"></div>
                                    <div class="mtree_checkbox mtree-checkbox-hook"><input type="checkbox" name="name" value="" /></div>
                                    <div class="mtree_name mtree-name-hook">3.3 解一元一次方程 (一)去括号去分母</div>
                                </div>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
        <div class="iframe-main pa">
            <div class="page_title">试卷属性</div>
            <div class="form-horizontal">
                <div class="form-group">
                    <div class="control-label col-xs-1">类型：</div>
                    <div class="col-xs-8 radio">
                        <label><input type="radio" name="type" value="" id="" checked />周测</label>
                        <label><input type="radio" name="type" value="" id="" />月测</label>
                        <label><input type="radio" name="type" value="" id="" />单元测</label>
                    </div>
                </div>
                <div class="form-group">
                    <div class="control-label col-xs-1">难度：</div>
                    <div class="col-xs-8 radio">
                        <label><input type="radio" name="difficulty" value="0.5,0.33,0.17|0.17,0.5,0.17|0.33,0.33,0.34" data-difficulty="easy" id="" checked />容易</label>
                        <label><input type="radio" name="difficulty" value="0.5,0.33,0.17|0.3333,0.3333,0.3333|0.17,0.5,0.33" data-difficulty="medium" id="" />中等</label>
                        <label><input type="radio" name="difficulty" value="0.67,0.33,0|0.3333,0.3333,0.3333|0,0.33,0.67" data-difficulty="difficult" id="" />困难</label>
                    </div>
                </div>
                <div class="form-group">
                    <div class="control-label col-xs-1">题型：</div>
                    <div class="col-xs-8 checkbox">
                        <label><input type="checkbox" value="choise" name="question_type" id="" data-name="选择题" checked />选择题</label>
                        <label><input type="checkbox" value="fill" name="question_type" id="" data-name="填空题" checked />填空题</label>
                        <label><input type="checkbox" value="short" name="question_type" id="" data-name="简答题" checked />简答题</label>
                    </div>
                </div>
                <div class="form-group text-center">
                    <div class="col-xs-2 col-xs-offset-1">试题总数</div>
                    <div class="col-xs-1">容易</div>
                    <div class="col-xs-1">中等</div>
                    <div class="col-xs-1">困难</div>
                </div>
                <div class="test-paper-content-hook">
                    <div class="form-group choise-hook">
                        <div class="control-label col-xs-1">选择题：</div>
                        <div class="col-xs-2">
                            <input type="text" value="6" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="3" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="2" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="1" class="form-control">
                        </div>
                    </div>
                    <div class="form-group fill-hook">
                        <div class="control-label col-xs-1">填空题：</div>
                        <div class="col-xs-2">
                            <input type="text" value="6" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="3" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="2" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="1" class="form-control">
                        </div>
                    </div>
                    <div class="form-group short-hook">
                        <div class="control-label col-xs-1">简答题：</div>
                        <div class="col-xs-2">
                            <input type="text" value="3" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="2" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="1" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="0" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="test-paper-content-hook hidden">
                    <div class="form-group choise-hook">
                        <div class="control-label col-xs-1">选择题：</div>
                        <div class="col-xs-2">
                            <input type="text" value="6" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="2" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="3" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="1" class="form-control">
                        </div>
                    </div>
                    <div class="form-group fill-hook">
                        <div class="control-label col-xs-1">填空题：</div>
                        <div class="col-xs-2">
                            <input type="text" value="6" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="2" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="2" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="2" class="form-control">
                        </div>
                    </div>
                    <div class="form-group short-hook">
                        <div class="control-label col-xs-1">简答题：</div>
                        <div class="col-xs-2">
                            <input type="text" value="3" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="1" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="1" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="1" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="test-paper-content-hook hidden">
                    <div class="form-group choise-hook">
                        <div class="control-label col-xs-1">选择题：</div>
                        <div class="col-xs-2">
                            <input type="text" value="6" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="2" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="2" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="2" class="form-control">
                        </div>
                    </div>
                    <div class="form-group fill-hook">
                        <div class="control-label col-xs-1">填空题：</div>
                        <div class="col-xs-2">
                            <input type="text" value="6" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="2" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="2" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="2" class="form-control">
                        </div>
                    </div>
                    <div class="form-group short-hook">
                        <div class="control-label col-xs-1">简答题：</div>
                        <div class="col-xs-2">
                            <input type="text" value="3" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="0" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="1" class="form-control">
                        </div>
                        <div class="col-xs-1">
                            <input type="text" value="2" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-xs-1 col-xs-offset-1">
                        <a href="CombinationTestPaper.html" class="btn btn-primary">下一步</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>